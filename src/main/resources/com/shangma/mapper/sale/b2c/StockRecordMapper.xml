<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shangma.mapper.sale.b2c.StockRecordMapper">
    <select id="findAllRecord" resultType="com.shangma.entity.sale.b2c.StockOutRecord">
        select * from t_b2c_stock_out_record
    </select>
    <select id="searchByTerm" parameterType="com.shangma.entity.sale.b2c.StockOutRecord" resultType="com.shangma.entity.sale.b2c.StockOutRecord">
        select * from t_b2c_stock_out_record
        <where>
            <if test="orderId!=null and orderId!=''">
                order_id like '%${orderId}%'
            </if>
            <if test="orderType != null and orderType != ''">
                and order_type like '%${orderType}%'
            </if>
            <if test="payment != null and payment != ''">
                and payment like '%${payment}%'
            </if>
            <if test="businessType != null and businessType != ''">
                and business_type like '%${businessType}%'
            </if>
            <if test="timeFrom != null">
                and order_date &gt;= '${timeFrom}'
            </if>
            <if test="timeTo != null">
                and order_date &lt;= '${timeTo}'
            </if>
            <if test="orderAction != null and orderAction !=''">
                and order_action like '%${orderAction}%'
            </if>
            <if test="orderStatus != null and orderStatus !=''">
                and order_status like '%${orderStatus}%'
            </if>
        </where>
    </select>
    <select id="findRecordByOrderId" parameterType="Long" resultType="com.shangma.entity.sale.b2c.StockOutRecord">
        select * from t_b2c_stock_out_record where order_id = #{orderId}
    </select>
    <select id="findGoods" parameterType="Long" resultType="com.shangma.entity.sale.b2c.OrderGoods">
        SELECT * FROM t_b2c_order_goods where order_id = #{orderId}
    </select>
    <select id="findCustomer" parameterType="Long" resultType="com.shangma.entity.sale.b2c.Customer">
        select * from t_b2c_customer WHERE id= #{id}
    </select>
</mapper>