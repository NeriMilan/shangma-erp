<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shangma.mapper.sale.b2c.ReturnRecordMapper">
    <select id="findAllOrder" resultType="com.shangma.entity.sale.b2c.ReturnEntityRecord">
        select * from t_b2c_sales_return_entity_record
    </select>
    <select id="search" parameterType="com.shangma.entity.sale.b2c.ReturnEntityRecord" resultType="com.shangma.entity.sale.b2c.ReturnEntityRecord">
        select * from t_b2c_sales_return_entity_record
        <where>
            <if test="orderId != null and orderId != ''">
                order_id like '%${orderId}%'
            </if>
            <if test="orderType != null and orderType != ''">
                and order_type like '%${orderType}%'
            </if>
            <if test="payment != null and payment != ''">
                and payment like '%${payment}%'
            </if>
            <if test="businessType != null and businessType != ''">
                and business_type like '%${businessType}%'
            </if>
            <if test="timeFrom != null">
                and order_date &gt;= '${timeFrom}'
            </if>
            <if test="timeTo != null">
                and order_date &lt;= '${timeTo}'
            </if>
            <if test="orderAction != null and orderAction !=''">
                and order_action like '%${orderAction}%'
            </if>
            <if test="orderStatus != null and orderStatus !=''">
                and order_status like '%${orderStatus}%'
            </if>
        </where>
    </select>
    <select id="findByOrderId" parameterType="Long" resultType="com.shangma.entity.sale.b2c.ReturnEntityRecord">
        select * from t_b2c_sales_return_entity_record where order_id = #{orderId}
    </select>
    <select id="findCustomer" parameterType="Long" resultType="com.shangma.entity.sale.b2c.Customer">
        select * from t_b2c_customer where id=#{id}
    </select>
    <select id="findGoods" parameterType="Long" resultType="com.shangma.entity.sale.b2c.OrderGoods">
        select * from t_b2c_order_goods where order_id = #{orderId}
    </select>
</mapper>